(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],m=0,p=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"1fa2":function(e,t,a){"use strict";a("b903")},"335c":function(e,t,a){"use strict";a("e8f6")},"3d46":function(e,t,a){},4360:function(e,t,a){"use strict";a("ec3a")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Navbar"),a("Sidebar"),a("router-view")],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg row",staticStyle:{"background-color":"#293b5f"}},[a("div",{staticClass:"d-flex justify-content-end"},[e.isLogged?a("a",{staticClass:"nav-link active text-white",attrs:{"aria-current":"page",href:"#"},on:{click:function(t){return t.preventDefault(),e.toHomePage.apply(null,arguments)}}},[e._v("Home")]):e._e(),e.isLogged?e._e():a("a",{staticClass:"nav-link active text-white",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toLoginPage.apply(null,arguments)}}},[e._v("Login")]),e.isLogged?e._e():a("a",{staticClass:"nav-link active text-white",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toRegisterPage.apply(null,arguments)}}},[e._v("Register")]),e.isLogged?a("a",{staticClass:"nav-link active text-white",attrs:{"aria-current":"page",href:"#"},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[e._v("Logout")]):e._e()])])},i=[],c={name:"Navbar",computed:{isLogged:function(){return this.$store.state.isLogged}},methods:{logout:function(){var e=gapi.auth2.getAuthInstance();e.signOut().then((function(){})),localStorage.clear(),this.$router.push("/login")},toRegisterPage:function(){this.$router.push("/register")},toLoginPage:function(){this.$router.push("/login")},toHomePage:function(){this.$router.push("/")}}},l=c,u=a("2877"),m=Object(u["a"])(l,s,i,!1,null,null,null),p=m.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"col-md-3 col-lg-2 d-md-block collaps",staticStyle:{"background-color":"#293b5f","padding-top":"0"},attrs:{id:"sidebar"}},[a("h2",{staticClass:"nav-link active my-4 text-white"},[e._v("Dashboard")]),a("div",{staticClass:"position-sticky"},[a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link text-white",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toMovieList.apply(null,arguments)}}},[a("h5",[e._v("Movie List")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link text-white",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toBookmark.apply(null,arguments)}}},[a("h5",[e._v("Bookmark List")])])])]),a("div",[a("div",{staticClass:"input-group my-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control rounded",attrs:{type:"search",placeholder:"Search title","aria-label":"Search","aria-describedby":"search-addon"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:e.fetchMovie}},[e._v(" search ")])])])])])])},v=[],g={name:"Sidebar",data:function(){return{title:""}},methods:{toBookmark:function(){this.$router.push("/bookmark")},toMovieList:function(){this.$router.push("/")},fetchMovie:function(){this.$store.commit("SET_FILTER_TITLE",this.title),this.$store.dispatch("fetchMovie")}}},f=g,h=Object(u["a"])(f,d,v,!1,null,null,null),k=h.exports,b={name:"App",components:{Navbar:p,Sidebar:k},created:function(){localStorage.getItem("access_token")&&this.$store.commit("SET_ISLOGEDIN",!0)}},_=b,x=(a("034f"),Object(u["a"])(_,n,o,!1,null,null,null)),w=x.exports,C=(a("b0c0"),a("8c4f")),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("MovieList")],1)},E=[],O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container ml-4"},[a("div",{staticClass:"\n      row\n      d-flex\n      justify-content-center\n      align-items-center\n      p-3\n      text-light\n    "},[e._l(e.movies,(function(e){return a("CardMovie",{key:e.id,attrs:{movie:e}})})),a("div",{staticClass:"d-flex justify-content-center my-5"},[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.gotoPage("prev")}}},[e._v("Previous")])]),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.gotoPage(1)}}},[e._v("1")])]),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.gotoPage(2)}}},[e._v("2")])]),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.gotoPage(3)}}},[e._v("3")])]),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.gotoPage(4)}}},[e._v("4")])]),a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.gotoPage("next")}}},[e._v("Next")])])])])])],2)])},M=[],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card col-4 m-2 shadow mx-2 px-4"},[a("img",{staticClass:"card-img-top py-4",attrs:{src:e.movie.imgUrl,alt:"loading image...",height:"200px",width:"150px"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v("Title: "+e._s(e.movie.title))]),a("p",{staticClass:"card-text"},[e._v("Genre: "+e._s(e.movie.Genre.name))]),a("p",{staticClass:"card-text"},[e._v("Author: "+e._s(e.movie.User.username))]),a("p",{staticClass:"card-text"},[e._v("Rating: "+e._s(e.movie.rating))]),a("a",{staticClass:"btn btn-success text-center text-light",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.bookmarkmovie.apply(null,arguments)}}},[e._v("Add Bokkmark")]),a("a",{staticClass:"btn btn-info text-center text-light",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.detailMovie.apply(null,arguments)}}},[e._v("Detail")])])])},R=[],L=a("1da1"),B=(a("96cf"),{name:"Card",props:["movie"],methods:{detailMovie:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("detailMovie",e.movie.id);case 2:case"end":return t.stop()}}),t)})))()},bookmarkmovie:function(){this.$store.dispatch("bookmarkmovie",this.movie.id)}}}),T=B,$=(a("61a9"),Object(u["a"])(T,S,R,!1,null,"89b5c9e4",null)),P=$.exports,j={name:"MovieList",components:{CardMovie:P},computed:{movies:function(){return this.$store.state.movies}},methods:{gotoPage:function(e){switch(e){case"next":this.$store.commit("INCREMENT_PAGE");break;case"prev":this.$store.commit("DECREMENT_PAGE");break;default:this.$store.commit("SET_PAGE",e);break}this.$store.dispatch("fetchMovie")}},created:function(){this.$store.dispatch("fetchMovie")}},D=j,I=(a("8ab9"),Object(u["a"])(D,O,M,!1,null,"d2d8fe90",null)),N=I.exports,A={name:"Home",components:{MovieList:N}},G=A,H=Object(u["a"])(G,y,E,!1,null,null,null),K=H.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container d-flex justify-content-center align-items-center",staticStyle:{height:"90vh"},attrs:{id:"login"}},[a("div",{staticClass:"card w-50",staticStyle:{"background-color":"#293b5f","border-radius":"10px"}},[a("div",{staticClass:"row justify-content-center align-items-center mx-5 my-5"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.handlerLogin.apply(null,arguments)}}},[a("h2",{staticClass:"mb-4 text-light"},[e._v("Login")]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control my-2",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control my-2",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._m(0)]),a("div",{staticClass:"container mt-3 text-light"},[a("p",[e._v("Sign in via google")]),a("GoogleLogin",{attrs:{params:e.params,renderParams:e.renderParams,onSuccess:e.onSuccess}})],1)])])])},F=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-grid gap-2"},[a("button",{staticClass:"btn text-light my-4",staticStyle:{"background-color":"#222831"},attrs:{type:"submit"}},[e._v(" Login ")])])}],V=a("e571"),J=a.n(V),q={name:"Login",components:{GoogleLogin:J.a},data:function(){return{email:"",password:"",params:{client_id:"117663313183-scd00bumo3kdbqdm0dk5lv1ioilnekjc.apps.googleusercontent.com"},renderParams:{width:90,height:35,longtitle:!1}}},computed:{isLogged:function(){return this.$store.state.isLogged}},methods:{handlerLogin:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={email:e.email,password:e.password},t.next=3,e.$store.dispatch("handlerLogin",a);case 3:e.isLogged&&e.$router.push("/");case 4:case"end":return t.stop()}}),t)})))()},onSuccess:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("googleLogin",e);case 2:t.isLogged&&t.$router.push("/");case 3:case"end":return a.stop()}}),a)})))()}}},z=q,Q=Object(u["a"])(z,U,F,!1,null,null,null),W=Q.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container d-flex justify-content-center align-items-center",staticStyle:{height:"90vh"},attrs:{id:"register"}},[a("div",{staticClass:"card w-50",staticStyle:{"background-color":"#293b5f","border-radius":"10px"}},[a("div",{staticClass:"row justify-content-center align-items-center mx-5 my-5"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.handlerRegister.apply(null,arguments)}}},[a("h2",{staticClass:"mb-4 text-light"},[e._v("Register")]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control my-2",attrs:{id:"form-register-username",type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control my-2",attrs:{id:"form-register-email",type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control my-2",attrs:{id:"form-register-password",type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control my-2",attrs:{id:"form-register-phonenumber",type:"text",placeholder:"Phone Number"},domProps:{value:e.phoneNumber},on:{input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}})]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"form-control my-2",attrs:{id:"form-register-address",type:"text",placeholder:"Address"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),e._m(0)])])])])},Y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-grid gap-2"},[a("button",{staticClass:"btn text-light my-4",staticStyle:{"background-color":"#222831"},attrs:{type:"submit"}},[e._v(" Register ")])])}],Z={name:"Register",data:function(){return{username:"",email:"",password:"",phoneNumber:"",address:""}},methods:{handlerRegister:function(){var e={username:this.username,email:this.email,password:this.password,phoneNumber:this.phoneNumber,address:this.address};this.$store.dispatch("handlerRegister",e)}}},ee=Z,te=Object(u["a"])(ee,X,Y,!1,null,null,null),ae=te.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("CardMovieDetail",{attrs:{viewMovie:e.viewMovie}})],1)},ne=[],oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"flex"},[a("h1",{staticClass:"text-4xl mt-4"},[e._v(e._s(e.viewMovie.title))]),a("div",[a("img",{staticClass:"card-img-top py-4",attrs:{src:e.viewMovie.imgUrl,alt:"loading image...",height:"600px",width:"200px"}})]),a("h5",[a("strong",[e._v("Genre: "+e._s(e.viewMovie.Genre.name))])]),a("p",[a("strong",[e._v("Rating: "+e._s(e.viewMovie.rating))])]),a("p",[a("strong",[e._v("Author: "+e._s(e.viewMovie.User.username))])]),a("p",[a("strong",[e._v("Trailer:")]),a("a",{attrs:{href:e.viewMovie.trailerUrl}},[e._v(" "+e._s(e.viewMovie.title))])]),e._m(0),a("p",{staticStyle:{"text-indent":"45px"}},[e._v(e._s(e.viewMovie.synopsis))])])])},se=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("strong",[e._v("Synopsis: ")])])}],ie={name:"CardMovieDetail",props:["viewMovie"]},ce=ie,le=(a("335c"),Object(u["a"])(ce,oe,se,!1,null,"2313aa01",null)),ue=le.exports,me={name:"DetailMovie",components:{CardMovieDetail:ue},computed:{viewMovie:function(){return this.$store.state.viewMovie}}},pe=me,de=Object(u["a"])(pe,re,ne,!1,null,null,null),ve=de.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BookmarkList")],1)},fe=[],he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container my-4"},[a("div",{staticClass:"row justify-content-start d-flex text-light align-items-center"},e._l(e.bookmarks,(function(e){return a("BookmarkCard",{key:e.id,attrs:{bookmark:e}})})),1)])},ke=[],be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-bookmark col-3"},[a("div",{staticClass:"card mx-auto my-3"},[a("img",{staticClass:"card-img-top",attrs:{src:e.bookmark.Movie.imgUrl,height:"250px"}}),a("div",{staticClass:"card-body card-body"},[a("h6",{staticClass:"card-title"},[e._v("Title: "+e._s(e.bookmark.Movie.title))]),a("p",{staticClass:"card-text"},[e._v("Genre: "+e._s(e.bookmark.Movie.Genre.name))]),a("p",{staticClass:"card-text"},[e._v("Author: "+e._s(e.bookmark.Movie.User.username))]),a("p",{staticClass:"card-text"},[e._v("Rating: "+e._s(e.bookmark.Movie.rating))])]),a("a",{staticClass:"btn btn-danger text-center text-light mx-3 my-2",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.removeBookmark.apply(null,arguments)}}},[e._v("Remove Bookmark")]),a("a",{staticClass:"btn btn-info text-center text-light mx-3 my-2",attrs:{href:"#"},on:{click:[function(t){return t.preventDefault(),e.detailBookmark.apply(null,arguments)},e.todetailBookmark]}},[e._v("Detail")])])])},_e=[],xe={name:"BookmarkCard",props:["bookmark"],methods:{removeBookmark:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("removeBookmark",e.bookmark.id);case 2:case"end":return t.stop()}}),t)})))()},detailBookmark:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("detailBookmark",e.bookmark.id);case 2:case"end":return t.stop()}}),t)})))()},todetailBookmark:function(){this.$router.push("/bookmark/detail")}}},we=xe,Ce=(a("1fa2"),Object(u["a"])(we,be,_e,!1,null,"a5c6e76a",null)),ye=Ce.exports,Ee={name:"BookmarkLisr",components:{BookmarkCard:ye},computed:{bookmarks:function(){return this.$store.state.bookmarks}},created:function(){this.$store.dispatch("fetchBookmark")}},Oe=Ee,Me=Object(u["a"])(Oe,he,ke,!1,null,null,null),Se=Me.exports,Re={name:"Bookmark",components:{BookmarkList:Se}},Le=Re,Be=Object(u["a"])(Le,ge,fe,!1,null,null,null),Te=Be.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BookmarkDetail",{attrs:{detailBookmark:e.detailBookmark}})],1)},Pe=[],je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"flex"},[a("h1",{staticClass:"text-4xl mt-4"},[e._v(e._s(e.detailBookmark.Movie.title))]),a("div",[a("img",{staticClass:"card-img-top py-4",attrs:{src:e.detailBookmark.Movie.imgUrl,alt:"loading image...",height:"600px",width:"200px"}})]),a("h5",[a("strong",[e._v("Genre: "+e._s(e.detailBookmark.Movie.Genre.name))])]),a("p",[a("strong",[e._v("Rating: "+e._s(e.detailBookmark.Movie.rating))])]),a("p",[a("strong",[e._v("Author: "+e._s(e.detailBookmark.Movie.User.username))])]),a("p",[a("strong",[e._v("Trailer:")]),a("a",{attrs:{href:e.detailBookmark.Movie.trailerUrl}},[e._v(" "+e._s(e.detailBookmark.Movie.title))])]),e._m(0),a("p",{staticStyle:{"text-indent":"45px"}},[e._v(e._s(e.detailBookmark.Movie.synopsis))])])])},De=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("strong",[e._v("Synopsis: ")])])}],Ie={name:"BookmarkDetail",props:["detailBookmark"]},Ne=Ie,Ae=(a("4360"),Object(u["a"])(Ne,je,De,!1,null,"c84c650e",null)),Ge=Ae.exports,He={name:"DetailBookmark",components:{BookmarkDetail:Ge},computed:{detailBookmark:function(){return this.$store.state.detailBookmark}}},Ke=He,Ue=Object(u["a"])(Ke,$e,Pe,!1,null,null,null),Fe=Ue.exports;r["a"].use(C["a"]);var Ve=[{path:"/",name:"Home",component:K},{path:"/login",name:"Login",component:W},{path:"/register",name:"Register",component:ae},{path:"/detail",name:"Detail",component:ve},{path:"/bookmark",name:"Bookmark",component:Te},{path:"/bookmark/detail",name:"DetailBookmark",component:Fe}],Je=new C["a"]({mode:"history",base:"/",routes:Ve});Je.beforeEach((function(e,t,a){var r=localStorage.getItem("access_token");"Bookmark"!==e.name||r?"Login"===e.name&&r?a({name:"Home"}):"Register"===e.name&&r?a({name:"Login"}):"Bookmark"!==e.name||r?a():a({name:"Login"}):a({name:"Login"})}));var qe=Je,ze=(a("4de4"),a("d3b7"),a("bc3a")),Qe=a.n(ze),We=Qe.a.create({baseURL:"http://localhost:3000"}),Xe=We,Ye=a("2f62"),Ze=a("3d20"),et=a.n(Ze);r["a"].use(Ye["a"]);var tt=new Ye["a"].Store({state:{isLogged:!1,movies:[],movie:{},bookmarks:[],bookmark:{},viewMovie:{},detailBookmark:{},pages:1,filter:{page:1},search:{},ttitle:""},mutations:{FETCH_MOVIES:function(e,t){e.movies=t},SET_ISLOGEDIN:function(e,t){e.isLogged=t},FETCH_BOOKMAKS:function(e,t){e.bookmarks=t},FETCH_DETAIL_MOVIE:function(e,t){e.viewMovie=t},BOOKMARK_MOVIE:function(e,t){e.bookmark=t},THIS_PAGE:function(e,t){e.pages=t},INCREMENT_PAGE:function(e){e.filter.page<e.pages?e.filter.page++:e.filter.page>=e.pages&&(e.filter.page=e.pages)},DECREMENT_PAGE:function(e){e.filter.page>1?e.filter.page--:e.filter.page=1},SET_PAGE:function(e,t){e.filter.page=t},SET_FILTER_TITLE:function(e,t){e.filter.title=t},FETCH_DATA_BOOKMARK:function(e,t){e.detailBookmark=t}},actions:{handlerLogin:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Xe({method:"POST",url:"/customer/login",data:t});case 3:r=a.sent,localStorage.setItem("access_token",r.data.access_token),localStorage.setItem("role",r.data.role),e.commit("SET_ISLOGEDIN",!0),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),et.a.fire({icon:"error",title:"Oops...",text:a.t0.response.data.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},handlerRegister:function(e,t){var a=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe({method:"POST",url:"/customer/register",data:t});case 3:r=e.sent,et.a.fire({position:"top-center",icon:"success",title:"you'r account ".concat(r.data.username," succces registered.Now you can login"),showConfirmButton:!1,timer:1500}),a.$router.push("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),et.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},fetchMovie:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,r=e.state,t.prev=1,t.next=4,Xe({method:"GET",url:"/customer/movies",params:r.filter});case 4:n=t.sent,o=n.data.totalPages,s=n.data.movies,a("FETCH_MOVIES",s),a("THIS_PAGE",o),a("SET_FILTER_TITLE"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),et.a.fire({icon:"error",title:"Oops...",text:t.t0.response.data.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},fetchBookmark:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xe({method:"GET",url:"/customer/bookmarks",headers:{access_token:localStorage.getItem("access_token")}});case 3:a=t.sent,r=a.data,e.commit("FETCH_BOOKMAKS",r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),et.a.fire({icon:"error",title:"Oops...",text:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},detailMovie:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,a.next=4,Xe({method:"GET",url:"/customer/movies/".concat(t)});case 4:n=a.sent,o=n.data,r("FETCH_DETAIL_MOVIE",o),qe.push("/detail"),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](1),et.a.fire({icon:"error",title:"Oops...",text:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},bookmarkmovie:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Xe({method:"POST",url:"/customer/bookmarks/".concat(t),headers:{access_token:localStorage.getItem("access_token")}});case 3:r=a.sent,n=r.data,e.commit("BOOKMARK_MOVIE",n),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),et.a.fire({icon:"error",title:"Oops...",text:a.t0.response.data.message});case 11:qe.push("/bookmark");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},removeBookmark:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe({method:"DELETE",url:"/customer/bookmarks/".concat(t),headers:{access_token:localStorage.getItem("access_token")}});case 3:a=e.sent,et.a.fire({position:"top-center",icon:"success",title:a.data.message,showConfirmButton:!1,timer:1500}),qe.push("/bookmark"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),et.a.fire({icon:"error",title:"Oops...",text:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},googleLogin:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r=t.getAuthResponse().id_token,a.next=4,Xe({method:"POST",url:"/customer/google-login",data:{id_token:r}});case 4:n=a.sent,localStorage.setItem("access_token",n.data.access_token),e.commit("SET_ISLOGEDIN",!0),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),et.a.fire({icon:"error",title:"Oops...",text:a.t0.response.data.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},detailBookmark:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Xe({method:"GET",url:"/customer/bookmarks/".concat(t),headers:{access_token:localStorage.getItem("access_token")}});case 3:r=a.sent,n=r.data,e.commit("FETCH_DATA_BOOKMARK",n),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),et.a.fire({icon:"error",title:"Oops...",text:a.t0.response.data.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()}},modules:{}});a("ab8b");r["a"].config.productionTip=!1,new r["a"]({router:qe,store:tt,render:function(e){return e(w)}}).$mount("#app")},"61a9":function(e,t,a){"use strict";a("c139")},"85ec":function(e,t,a){},"8ab9":function(e,t,a){"use strict";a("3d46")},b903:function(e,t,a){},c139:function(e,t,a){},e8f6:function(e,t,a){},ec3a:function(e,t,a){}});
//# sourceMappingURL=app.8250420d.js.map